<header>
    <div ng-include='"includes/mainNav.html"'></div>
</header>

<section class="filter">
    <div class="container-fluid">
        <div class="row">
            <div class="col-9 keywords">
                <h2>Filter by keyword:</h2>
                <ul class="flat">
                    <li ng-repeat="each in keywords.split(',')"><a href="home/{{each}}">{{each}}</a> </li>
                </ul>
            </div>
            <div class="col-3 search">
                <label><h2>Search:</h2> <input ng-model="currentItem"></label>
            </div>
        </div>
    </div>
</section>

<section class="mainlist">
    <div class="container-fluid">
        <div class="row" monitor-style="height" update-variable="height">
            <!-- barely explained https://plnkr.co/edit/?p=preview -->
            <div
                class="col-xs-6 col-sm-4 col-md-3"
                ng-repeat="each in food | filter: currentItem"
                ng-class="{ 'even': $even, 'odd': $odd }" >

                <ul class="itemList flat" >
                    <li class="header">
                        <h2><a href="menu/{{ each.name }}" style="background-image: url('assets/{{each.imageSM}}');"><span>{{ each.name }}</span></a></h2>
                    </li>
                    <li class="details">
                        <p><span class="fieldName">Phone:</span> <span class="phone">{{ each.phone }}</span></p>
                        <p><span class="fieldName">Minimum:</span> <span class="minimum">{{ each.minimum }}</span></p>
                        <p><span class="fieldName">Devilery Fee:</span> <span class="fee">{{ each.fee }}</span></p>
                    </li>

                    <li class="hoverbox hours" ng-mouseover="hoursToggle='open'" ng-mouseleave="hoursToggle=''">
                        <span class="a">Hours:</span>
                        <div ng-app="ngAnimate">
                            <div ng-class="hoursToggle" class="overflow {{CurrentDate | date:'EEE' | lowercase }}">
                                <p class="sun"><span class="fieldName">Sun:</span> {{ each.hours.sun}}</p>
                                <p class="mon"><span class="fieldName">Mon:</span> {{ each.hours.mon}}</p>
                                <p class="tue"><span class="fieldName">Tue:</span> {{ each.hours.tue}}</p>
                                <p class="wed"><span class="fieldName">Wed:</span> {{ each.hours.wed}}</p>
                                <p class="thu"><span class="fieldName">Thu:</span> {{ each.hours.thu}}</p>
                                <p class="fri"><span class="fieldName">Fri:</span> {{ each.hours.fri}}</p>
                                <p class="sat"><span class="fieldName">Sat:</span> {{ each.hours.sat}}</p>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>

<div ng-include='"includes/homePromo.html"'></div>
<div ng-include='"includes/footer.html"'></div>
